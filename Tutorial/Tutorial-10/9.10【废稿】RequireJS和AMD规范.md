### RequireJS和AMD规范
[教程地址：RequireJS和AMD规范](http://javascript.ruanyifeng.com/tool/requirejs.html)

---
### 目录
```
1. 概述
   1.1 define方法：定义模块
   1.2 require方法：调用模块
   1.3 AMD模式小结
2. 配置require.js：config方法
3. 插件
4. 优化器r.js
5. 参考链接
```

---
### 1. 概述
- RequireJS是一个工具库，主要用于客户端的模块管理。它可以让客户端的代码分成一个个模块，实现异步或动态加载，从而提高代码的性能和可维护性。它的模块管理遵守AMD规范（Asynchronous Module Definition）
- RequireJS的基本思想是，通过define方法，将代码定义为模块；通过require方法，实现代码的模块加载
- data-main属性不可省略，用于指定主代码所在的脚本文件

#### 1.1 define方法：定义模块
- define方法用于定义模块，RequireJS要求每个模块放在一个单独的文件里
- 按照是否依赖其他模块，可以分成两种情况讨论。第一种情况是定义独立模块，即所定义的模块不依赖其他模块；第二种情况是定义非独立模块，即所定义的模块依赖于其他模块
- 如果被定义的模块是一个独立模块，不需要依赖任何其他模块，可以直接用define方法生成
- 如果被定义的模块需要依赖其他模块,define方法的第一个参数是一个数组，它的成员是当前模块所依赖的模块

#### 1.2 require方法：调用模块
- require方法用于调用模块。它的参数与define方法类似
- require方法的第三个参数，即处理错误的回调函数，接受一个error对象作为参数
- require对象还允许指定一个全局性的Error事件的监听函数。所有没有被上面的方法捕获的错误，都会被触发这个监听函数

### 1.3 AMD模式小结
- define和require这两个定义模块、调用模块的方法，合称为AMD模式。它的模块定义的方法非常清晰，不会污染全局环境，能够清楚地显示依赖关系
- AMD模式可以用于浏览器环境，并且允许非同步加载模块，也可以根据需要动态加载模块

---
### 2. 配置require.js：config方法
- require方法本身也是一个对象，它带有一个config方法，用来配置require.js运行参数。config方法接受一个对象作为参数
- config方法的参数对象有以下主要成员
  - paths: paths参数指定各个模块的位置,这个位置可以是同一个服务器上的相对位置，也可以是外部网址。可以为每个模块定义多个位置，如果第一个位置加载失败，则加载第二个位置，
  - baseUrl: baseUrl参数指定本地模块位置的基准目录
  - shim: 有些库不是AMD兼容的，这时就需要指定shim属性的值。shim可以理解成“垫片”，用来帮助require.js加载非AMD规范的

---
### 3. 插件
- RequireJS允许使用插件，加载各种格式的数据

---
### 4. 优化器r.js
- RequireJS提供一个基于node.js的命令行工具r.js,用来压缩多个js文件
- 它的主要作用是将多个模块文件压缩合并成一个脚本文件，以减少网页的HTTP请求数
- 除了直接在命令行提供参数设置，也可以将参数写入一个文件，假定文件名为build.js
