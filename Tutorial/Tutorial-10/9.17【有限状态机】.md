### 有限状态机
[教程地址：有限状态机](http://javascript.ruanyifeng.com/advanced/fsm.html)

---
### 目录
```
1. 概述
2. Javascript Finite State Machine函数库
3. 参考链接
```

---
### 1. 概述
- 有限状态机（Finite-state machine）是一个非常有用的模型，可以模拟世界上大部分事物
- 简单说，它有三个特征
  - 状态总数（state）是有限的。
  - 任一时刻，只处在一种状态之中。
  - 某种条件下，会从一种状态转变（transition）到另一种状态

- 它对JavaScript的意义在于，很多对象可以写成有限状态机
- 有限状态机的写法，逻辑清晰，表达力强，有利于封装事件。一个对象的状态越多、发生的事件越多，就越适合采用有限状态机的写法
- JavaScript语言是一种异步操作特别多的语言，常用的解决方法是指定回调函数，但这样会造成代码结构混乱、难以测试和除错等问题
- 有限状态机提供了更好的办法：把异步操作与对象的状态改变挂钩，当异步操作结束的时候，发生相应的状态改变，由此再触发其他操作。这要比回调函数、事件监听、发布/订阅等解决方案，在逻辑上更合理，更易于降低代码的复杂度

---
### 2. Javascript Finite State Machine函数库
- 下面介绍一个有限状态机的函数库Javascript Finite State Machine
- 该库提供一个全局对象StateMachine，使用该对象的create方法，可以生成有限状态机的实例
- 成实例以后，就可以随时查询当前状态
- Javascript Finite State Machine允许为每个事件指定两个回调函数
- 同时，它也允许为每个状态指定两个回调函数
- 除了为每个事件和状态单独指定回调函数，还可以为所有的事件和状态指定通用的回调函数
- Javascript Finite State Machine还允许指定错误处理函数，当发生了当前状态不可能发生的事件时自动触发
